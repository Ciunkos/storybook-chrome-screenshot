{"version":3,"sources":["../../src/internal/utils.js"],"names":["sleep","Promise","setTimeout","resolve","ms","identity","v","parseInteger","parseInt","parseList","split","map","o","trim","parseRegExp","RegExp","filenamify","filename","replace","viewport2string","viewport","width","height","isMobile","hasTouch","isLandscape","deviceScaleFactor","join","story2filename","kind","story","pascalize","charAt","toUpperCase","slice","m","g","createArray","Array","length","fill","arrayChunk","arr","n","c","i"],"mappings":";;;;;;;AAAA;;;;;;AAEO,IAAMA,wBAAQ,SAARA,KAAQ;AAAA,SAAM,IAAIC,OAAJ,CAAY;AAAA,WAAWC,WAAWC,OAAX,EAAoBC,EAApB,CAAX;AAAA,GAAZ,CAAN;AAAA,CAAd;;AAEA,IAAMC,8BAAW,SAAXA,QAAW;AAAA,SAAKC,CAAL;AAAA,CAAjB;;AAEA,IAAMC,sCAAe,SAAfA,YAAe;AAAA,SAAKC,SAASF,CAAT,EAAY,EAAZ,CAAL;AAAA,CAArB;;AAEA,IAAMG,gCAAY,SAAZA,SAAY;AAAA,SACvBH,IAAIA,EAAEI,KAAF,CAAQ,GAAR,EAAaC,GAAb,CAAiB;AAAA,WAAKC,EAAEC,IAAF,EAAL;AAAA,GAAjB,CAAJ,GAAsC,IADf;AAAA,CAAlB;;AAIA,IAAMC,oCAAc,SAAdA,WAAc;AAAA,SACzBR,IAAI,IAAIS,MAAJ,CAAWT,CAAX,CAAJ,GAAoB,IADK;AAAA,CAApB;;AAIA,IAAMU,kCAAa,SAAbA,UAAa;AAAA,SACxB,gCAASC,QAAT,EAAmBC,OAAnB,CAA2B,KAA3B,EAAkC,GAAlC,CADwB;AAAA,CAAnB;;AAIA,IAAMC,4CAAkB,SAAlBA,eAAkB;AAAA,SAAa,CACvCC,SAASC,KAD8B,SACrBD,SAASE,MADY,QAEvCF,SAASG,QAAT,GAAoB,SAApB,GAAgC,EAFO,SAGvCH,SAASI,QAAT,GAAoB,QAApB,GAA+B,EAHQ,SAIvCJ,SAASK,WAAT,GAAuB,YAAvB,GAAsC,EAJC,SAKvCL,SAASM,iBAAT,GAA6B,CAA7B,SAAqCN,SAASM,iBAA9C,SAAqE,EAL9B,GAM1CC,IAN0C,CAMrC,EANqC,CAAb;AAAA,CAAxB;;AAQA,IAAMC,0CAAiB,SAAjBA,cAAiB,CAACC,IAAD,EAAOC,KAAP;AAAA,MAAcV,QAAd,uEAAyB,IAAzB;AAAA,SACzBJ,WAAca,IAAd,SAAsBC,KAAtB,IAA8BV,iBAAeD,gBAAgBC,QAAhB,CAAf,GAA6C,EAA3E,EADyB;AAAA,CAAvB;;AAIA,IAAMW,gCAAY,SAAZA,SAAY;AAAA,SACvB,MAAGzB,EAAE0B,MAAF,CAAS,CAAT,EAAYC,WAAZ,EAAH,GAA+B3B,EAAE4B,KAAF,CAAQ,CAAR,CAA/B,EAA4ChB,OAA5C,CAAoD,UAApD,EAAgE,UAACiB,CAAD,EAAIC,CAAJ;AAAA,WAC9DA,EAAEH,WAAF,EAD8D;AAAA,GAAhE,CADuB;AAAA,CAAlB;;AAMA,IAAMI,oCAAc,SAAdA,WAAc;AAAA,SAAW,IAAIC,KAAJ,CAAUC,MAAV,CAAD,CAAoBC,IAApB,CAAyB,IAAzB,CAAV;AAAA,CAApB;;AAEA,IAAMC,kCAAa,SAAbA,UAAa,CAACC,GAAD,EAAMC,CAAN;AAAA,SACxBD,IAAIR,KAAJ,CAAU,CAAV,EAAc,CAAEQ,IAAIH,MAAJ,GAAaI,CAAd,GAAmB,CAApB,IAAyBA,CAA1B,GAA+B,CAA5C,EAA+C;AAA/C,GACGhC,GADH,CACO,UAACiC,CAAD,EAAIC,CAAJ;AAAA,WAAUH,IAAIR,KAAJ,CAAUS,IAAIE,CAAd,EAAkBF,IAAIE,CAAL,GAAUF,CAA3B,CAAV;AAAA,GADP,CADwB;AAAA,CAAnB","file":"utils.js","sourcesContent":["import sanitize from 'sanitize-filename';\r\n\r\nexport const sleep = ms => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\nexport const identity = v => v;\r\n\r\nexport const parseInteger = v => parseInt(v, 10);\r\n\r\nexport const parseList = v => (\r\n  v ? v.split(',').map(o => o.trim()) : null\r\n);\r\n\r\nexport const parseRegExp = v => (\r\n  v ? new RegExp(v) : null\r\n);\r\n\r\nexport const filenamify = filename => (\r\n  sanitize(filename).replace(/\\s/g, '-')\r\n);\r\n\r\nexport const viewport2string = viewport => ([\r\n  `${viewport.width}x${viewport.height}`,\r\n  `${viewport.isMobile ? '-mobile' : ''}`,\r\n  `${viewport.hasTouch ? '-touch' : ''}`,\r\n  `${viewport.isLandscape ? '-landscape' : ''}`,\r\n  `${viewport.deviceScaleFactor > 1 ? `@${viewport.deviceScaleFactor}x` : ''}`,\r\n].join(''));\r\n\r\nexport const story2filename = (kind, story, viewport = null) => (\r\n  `${filenamify(`${kind}-${story}${viewport ? `-${viewport2string(viewport)}` : ''}`)}.png`\r\n);\r\n\r\nexport const pascalize = v => (\r\n  `${v.charAt(0).toUpperCase()}${v.slice(1)}`.replace(/[-_](.)/g, (m, g) => (\r\n    g.toUpperCase()\r\n  ))\r\n);\r\n\r\nexport const createArray = length => (new Array(length)).fill(null);\r\n\r\nexport const arrayChunk = (arr, n) => (\r\n  arr.slice(0, (((arr.length + n) - 1) / n) | 0) // eslint-disable-line no-bitwise\r\n    .map((c, i) => arr.slice(n * i, (n * i) + n))\r\n);\r\n"]}