{"version":3,"sources":["../src/screenshot-options.js"],"names":["opts","getScreenshotOptions","mergeScreenshotOptions","options","viewport","Array","isArray","baseViewport","map","vp","setScreenshotOptions"],"mappings":";;;;;;;;;AAAA;;;;AACA;;;;AAEA,IAAIA,0CAAJ;;AAEO,IAAMC,sDAAuB,SAAvBA,oBAAuB;AAAA,SAClCD,IADkC;AAAA,CAA7B;;AAIA,IAAME,0DAAyB,SAAzBA,sBAAyB,GAAkB;AAAA,MAAjBC,OAAiB,uEAAP,EAAO;;AACtD,MAAIC,WAAW,EAAf;;AAEA,MAAIC,MAAMC,OAAN,CAAcH,QAAQC,QAAtB,CAAJ,EAAqC;AACnC,QAAMG,eAAe,CAACF,MAAMC,OAAN,CAAcN,KAAKI,QAAnB,CAAD,GACjBJ,KAAKI,QADY,GAEjB,oCAAyBA,QAF7B;;AAIAA,eAAWD,QAAQC,QAAR,CAAiBI,GAAjB,CAAqB;AAAA,0BAC3BD,YAD2B,EAE3BE,EAF2B;AAAA,KAArB,CAAX;AAID,GATD,MASO;AACLL,4BAAiBD,QAAQC,QAAR,IAAoB,EAArC;AACD;;AAED,SAAO,0BAAO,EAAP,EAAWJ,IAAX,eACFG,OADE;AAELC;AAFK,KAAP;AAID,CApBM;;AAsBA,IAAMM,sDAAuB,SAAvBA,oBAAuB,GAAkB;AAAA,MAAjBP,OAAiB,uEAAP,EAAO;;AACpDH,SAAOE,uBAAuBC,OAAvB,CAAP;AACD,CAFM","file":"screenshot-options.js","sourcesContent":["import assign from 'assign-deep';\r\nimport { defaultScreenshotOptions } from './constants';\r\n\r\nlet opts = defaultScreenshotOptions;\r\n\r\nexport const getScreenshotOptions = () => (\r\n  opts\r\n);\r\n\r\nexport const mergeScreenshotOptions = (options = {}) => {\r\n  let viewport = {};\r\n\r\n  if (Array.isArray(options.viewport)) {\r\n    const baseViewport = !Array.isArray(opts.viewport)\r\n      ? opts.viewport\r\n      : defaultScreenshotOptions.viewport;\r\n\r\n    viewport = options.viewport.map(vp => ({\r\n      ...baseViewport,\r\n      ...vp,\r\n    }));\r\n  } else {\r\n    viewport = { ...(options.viewport || {}) };\r\n  }\r\n\r\n  return assign({}, opts, {\r\n    ...options,\r\n    viewport,\r\n  });\r\n};\r\n\r\nexport const setScreenshotOptions = (options = {}) => {\r\n  opts = mergeScreenshotOptions(options);\r\n};\r\n"]}